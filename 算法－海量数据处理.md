
## 哈希

* 哈希表：将 `key `关键码与存储位置之间建立映射，我们可以直接通过查找`key`对应的地址，直接取出对应的`value`，数组其实可以看成最简单的哈希表

### 哈希特点

数组查找方便，但是插入和删除困难；链表寻址困难，但是删除和插入很方便，那么哈希表呢是一种插入和删除方便，同时查找方便，我们通常使用`hash`来做快速查找

### 如何得到 key
直接定址法

* 通过线性函数

除法散列法

	 index = value % 16 
平方散列法 
	
	  index = (value * value) >> 28
	 
斐波那契`（Fibonacci）`散列法

	  index = (value * 2654435769) >> 28
	 // 对于16位整数而言，这个乘数是40503 
	 // 对于32位整数而言，这个乘数是2654435769 
	// 对于64位整数而言，这个乘数是11400714819323198485
	
### 	碰撞处理

* 链地址法：适用于经常进行插入和删除的情况
* 开放寻址法：

### 适合题目

* 海量日志数据，提取出某日访问百度次数最多的那个`IP`。
* 方案：分治思想`＋Hash`
* `IP`地址最多有`2^32=4G`种取值情况，所以不能完全加载到内存中处理； 
* 可以考虑采用“分而治之”的思想，按照`IP`地址的`Hash(IP)%1024`值，把海量`IP`日志分别存储到`1024`个小文件中。这样，每个小文件最多包含`4MB`个`IP`地址； 
* 对于每一个小文件，可以构建一个`IP`为`key`，出现次数为`value`的`Hash map`，同时记录当前出现次数最多的那个`IP`地址；
* 可以得到`1024`个小文件中的出现次数最多的`IP`，再依据常规的排序算法得到总体上出现次数最多的`IP`；

## 堆

### 堆排序
* 优先队列：像这样支持插入元素和寻找最大（小）值元素的数据结构
* 最小堆：所有父结点都比子结点要小
* 最大堆：所有子结点都比父结点要大
* 堆排序：比如从小到大排序，先建立最大堆，要从小到大输出，`h1`为最大值，那么交换`h1`与`hn`，那么`hn`现在为最大值，这时候调用`siftDown`向下调整，使`n--`个数为最大堆，一直进行循环，知道`n`为`1`结束，这时候输出`h[n]`数组


### 大堆 、小堆
最常使用的是最大堆、最小堆

最大堆求前`n`小

* 我们比较当前元素与最大堆里的最大元素，如果它小于最大元素，则应该替换那个最大元素。这样最后得到的`n`个元素就是最小的`n`个。适合大数据量，求前`n`小，`n`的大小比较小的情况，这样可以扫描一遍即可得到所有的前`n`元素，效率很高。

最小堆求前n大

### 你会建堆么

	？



### 适合题目

`100w`个数中找最大的前`100`个数。

* 一个`100`个元素大小的最小堆即可。


## Bloom Filter：布隆过滤器 && BitMap

   `Bloom Filter（BF）`是一种空间效率很高的随机数据结构，它利用位数组很简洁地表示一个集合，并能判断一个元素是否属于这个集合。它是一个判断元素是否存在集合的快速的概率算法。`Bloom Filter`有可能会出现错误判断，但不会漏掉判断。也就是`Bloom Filter`判断元素不再集合，那肯定不在。如果判断元素存在集合中，有一定的概率判断错误。因此，`Bloom` `Filter`不适合那些“零错误”的应用场合。而在能容忍低错误率的应用场合下，`Bloom Filter`比其他常见的算法（如`hash`，折半查找）极大节省了空间。 
   
   
* 节省空间
* 不适合“零错误的的情况”，可能存在将元素误判存在在集合中 

### BitMap

一种大数据外部排序（内存无法加载所有排序元素）、去除重复元素、快速找到随机被删除元素的`BitMap`小算法，核心思想即通过将一个数作为下标`（index）`来索引一个`bit`表示一个数是否存在，排序时的时间复杂度为`O(N)`，需要的额外空间的复杂度`O(N/8)`



## 分治法

因为元素范围很大，不能利用直接寻址表，所以通过多次划分，逐步确定范围，然后最后在一个可以接受的范围内进行。

适用范围：

* 第k大，中位数，不重复或重复的数字



### 我还是直接给出链接吧😂

* [十道海量数据处理面试题与十个方法大总结](http://blog.csdn.net/v_july_v/article/details/6279498)
* [海量数据处理问题汇总及方法总结](http://www.cnblogs.com/jy02414216/archive/2012/09/07/2675973.html)
* [海量数据处理之Bloom Filter详解](http://blog.csdn.net/v_july_v/article/details/6685894)
* [ 海量数据处理面试题集锦](http://blog.csdn.net/v_july_v/article/details/6685962)
* [教你如何迅速秒杀掉：99%的海量数据处理面试题](http://blog.csdn.net/v_july_v/article/details/7382693)

